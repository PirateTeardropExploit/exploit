// WARNING
// This code isn't used for be buyed, neither as bundle
// If you got this code with any form of money (Euro, Dollar, Bitcoin...)
// You have been scammed. And you should get quickly as possible
// Setup an lawsuit (ALSO THE CREATOR WILL NOT JOIN THE LAWSUIT)

const createInteractiveConsoleCanvas = () => {
    const newCanvas = document.createElement('canvas');
    newCanvas.width = 600;
    newCanvas.height = 200;
    newCanvas.style.border = '1px solid #000';
    newCanvas.style.display = 'block';
    newCanvas.style.backgroundColor = 'black';
    document.body.appendChild(newCanvas);

    const ctx = newCanvas.getContext('2d');
    ctx.fillStyle = 'white';
    ctx.font = '16px monospace';

    let userInput = "";

    function drawConsoleText(message) {
        ctx.clearRect(0, 0, newCanvas.width, newCanvas.height);
    }

    function createCookie(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + ";" + expires + ";path=/";
    }

    function createLocalStorageFolder(name, data) {
        localStorage.setItem(name, JSON.stringify(data));
    }

    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
    }

    function getLocalStorageFolder(name) {
        return localStorage.getItem(name);
    }

    const cookieValue = getCookie("TeardropThePirate");
    const localStorageData = getLocalStorageFolder("ModdedData");

    const initializeInputListener = () => {
        window.addEventListener('keydown', function(event) {
            if (event.key === 'Backspace') {
                userInput = userInput.slice(0, -1);
            } else if (event.key === 'Enter') {
                if (userInput.trim().toLowerCase() === 'hide') {
                    newCanvas.remove();
                } else if (userInput.trim().toUpperCase() === 'N') {
                    location.reload();
                } else if (userInput.trim().toUpperCase() === 'Y') {
                    createCookie("TeardropThePirate", "ExploitTriggered", 7);
                    createLocalStorageFolder("ModdedData", { message: "Cookie and Local Storage Data Created" });
                    userInput = '';
                }
                userInput = '';
            } else if (event.key.length === 1) {
                userInput += event.key;
            }
        });
    };

    if (cookieValue === "ExploitTriggered" && localStorageData !== null) {
        const parsedData = JSON.parse(localStorageData);
        if (parsedData && parsedData.message === "Cookie and Local Storage Data Created") {
            initializeInputListener();
        } else {
            initializeInputListener();
        }
    } else {
        initializeInputListener();
    }
}

createInteractiveConsoleCanvas();
